--- 
title: "IMOP: Workflowr Quick Start"
author: "Ania Tassinari & Caitlin Guccione"
date: "Summer 2019"
geometry: margin=2cm
site: bookdown::bookdown_site
#output: bookdown::gitbook
bookdown::gitbook:
  config:
    fontsettings:
      theme: Night
documentclass: article
classoption: openany
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
split_by: "chapter+number"
always_allow_html: yes
new_session: yes
urlcolor: blue
---

# Set Up - Once Per Machine

It is ideal to do this setup in RStudio, but any platform of R will work: 

```{r setUp, eval=FALSE }
install.packages("workflowr")
library("workflowr")
wflow_git_config(user.name = "First Last", user.email = "first.last@agios.com")
```

# Create Project 

## R Prep

```{r createRProj, create, eval=FALSE }
library("workflowr") #Don't have to repeat if completed above
wflow_start("/path/PROJECT") #Starts a workflowr project by creating folders & R project
```

## GitLab Repo Connection

Go to your Agios GitLab and do the following:

+ Create a project in GitLab with the same name as the project in RStudio
+ Go to your PROJECT directory in your `terminal` and paste the `Push an Existing Git Repository`

## Complete connection in R

```{r createGitProj, create, eval=FALSE }
wflow_build() # Builds the Rmd files which builds the site allowing you to preview changes
wflow_publish(c("analysis/*.Rmd"), "Publish the initial files for PROJECT") #Updates HTML files
wflow_use_gitlab(username = "first.last", repository = "PROJECT", domain = "git.agios.local")
```

# Creating a New File & Running Analysis

```{r newFile, eval=FALSE}
wflow_open("analysis/NEW.Rmd") #Creates and opens a new file
wflow_build() # If you are in RStudio you can also use the Knitr button here
wflow_publish(c("analysis/NEW.Rmd"), "Publish the file NEW") #Updates HTML files
```

Make sure you are in the correct project in your `terminal`, then run:  
```{r gitPush, eval=FALSE}
git push #Pushes your work to Git saving a backup and allowing others to view your updated page
```

Repeat this process anytime you want to update your page. 
